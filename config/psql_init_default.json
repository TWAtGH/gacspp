{
"init":[
    "DROP TABLE IF EXISTS Sites, StorageElements, NetworkLinks, Files, Replicas, Transfers CASCADE;",
    "CREATE TABLE Sites (id BIGINT, name varchar(64), locationName varchar(32), cloudName varchar(32));",
    "CREATE TABLE StorageElements (id BIGINT, siteId BIGINT, name varchar(64), accessLatency BIGINT);",
    "CREATE TABLE NetworkLinks (id BIGINT, srcSiteId BIGINT, dstSiteId BIGINT);",
    "CREATE TABLE Files (id BIGINT, createdAt BIGINT, expiredAt BIGINT, filesize INTEGER);",
    "CREATE TABLE Replicas (id BIGINT, fileId BIGINT, storageElementId BIGINT, createdAt BIGINT, expiredAt BIGINT);",
    "CREATE TABLE Transfers (id BIGINT, srcReplicaId BIGINT, dstReplicaId BIGINT, startTick BIGINT, endTick BIGINT);"
],
"_init":[
    "DROP TABLE IF EXISTS Sites, StorageElements, NetworkLinks, Files, Replicas, Transfers CASCADE;",
    "CREATE TABLE Sites (id BIGINT PRIMARY KEY, name varchar(64), locationName varchar(32), cloudName varchar(32));",
    "CREATE TABLE StorageElements (id BIGINT PRIMARY KEY, siteId BIGINT, name varchar(64), accessLatency BIGINT, FOREIGN KEY(siteId) REFERENCES Sites(id));",
    "CREATE TABLE NetworkLinks (id BIGINT PRIMARY KEY, srcSiteId BIGINT, dstSiteId BIGINT, FOREIGN KEY(srcSiteId) REFERENCES Sites(id), FOREIGN KEY(dstSiteId) REFERENCES Sites(id));",
    "CREATE TABLE Files (id BIGINT PRIMARY KEY, createdAt BIGINT, expiredAt BIGINT, filesize INTEGER);",
    "CREATE TABLE Replicas (id BIGINT PRIMARY KEY, fileId BIGINT, storageElementId BIGINT, createdAt BIGINT, expiredAt BIGINT, FOREIGN KEY(fileId) REFERENCES Files(id), FOREIGN KEY(storageElementId) REFERENCES StorageElements(id));",
    "CREATE TABLE Transfers (id BIGINT PRIMARY KEY, srcReplicaId BIGINT, dstReplicaId BIGINT, startTick BIGINT, endTick BIGINT, FOREIGN KEY(srcReplicaId) REFERENCES Replicas(id), FOREIGN KEY(dstReplicaId) REFERENCES Replicas(id));"
],

"shutdown":[
    "ALTER TABLE Sites ADD PRIMARY KEY(id);",
    "ALTER TABLE StorageElements ADD PRIMARY KEY(id), ADD FOREIGN KEY(siteId) REFERENCES Sites(id);",
    "ALTER TABLE NetworkLinks ADD PRIMARY KEY(id), ADD FOREIGN KEY(srcSiteId) REFERENCES Sites(id), ADD FOREIGN KEY(dstSiteId) REFERENCES Sites(id);",
    "ALTER TABLE Files ADD PRIMARY KEY(id);",
    "ALTER TABLE Replicas ADD PRIMARY KEY(id), ADD FOREIGN KEY(fileId) REFERENCES Files(id), ADD FOREIGN KEY(storageElementId) REFERENCES StorageElements(id);",
    "ALTER TABLE Transfers ADD PRIMARY KEY(id), ADD FOREIGN KEY(srcReplicaId) REFERENCES Replicas(id), ADD FOREIGN KEY(dstReplicaId) REFERENCES Replicas(id);"
]
}
